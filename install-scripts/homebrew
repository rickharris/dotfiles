#!/usr/bin/env bash
set -e

if test ! $(which brew); then
  echo -e "\nInstalling Homebrew…"
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"

  if [[ ! -f $HOME/.zprofile ]]; then
    touch $HOME/.zprofile
  fi
  echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >>/Users/rick/.zprofile
  eval "$(/opt/homebrew/bin/brew shellenv)"
  brew completions link
fi

echo -e "\nInstalling homebrew dependencies…"
brew tap neovim/neovim
brew install asdf \
  ast-grep \
  bat \
  fzf \
  gh \
  git \
  git-extras \
  gnu-sed \
  hub \
  jq \
  lazygit \
  neovim \
  ripgrep \
  shfmt \
  stow \
  the_silver_searcher \
  tmux \
  wget \
  zplug \
  1password \
  firefox \
  iterm2 \
  visual-studio-code \
  wezterm
